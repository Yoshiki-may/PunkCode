-- PALSS SYSTEM - Seed Data
-- Phase 9: Supabase統合
-- 前提: schema.sql と rls.sql を先に実行してください
-- 実行順序: このファイルをSupabase SQLエディタで実行してください

-- 注意：このファイルは開発環境用です。本番環境では実行しないでください。

-- ==============================
-- 1. 組織の作成
-- ==============================
INSERT INTO organizations (id, name) VALUES
  ('00000000-0000-0000-0000-000000000001', 'PALSS Inc.')
ON CONFLICT (id) DO NOTHING;

-- ==============================
-- 2. Supabase Authユーザーの作成
-- ==============================
-- 注意：実際のSupabase Authユーザーは、Supabaseダッシュボードまたは
-- サインアップフローで作成する必要があります。
-- ここではusersテーブルのみ準備します。

-- 以下のコメントは、Supabase Authで作成すべきユーザーのリストです：
-- 1. sales@palss.com (Sales)
-- 2. direction@palss.com (Direction)
-- 3. editor@palss.com (Editor)
-- 4. creator@palss.com (Creator)
-- 5. support@palss.com (Support)
-- 6. client@palss.com (Client)

-- Supabase Authでユーザーを作成した後、そのUIDをここに記録してください。
-- 例：
-- INSERT INTO users (id, org_id, email, role, display_name, client_id) VALUES
--   ('auth-user-id-from-supabase', '00000000-0000-0000-0000-000000000001', 'sales@palss.com', 'sales', '営業 太郎', NULL);

-- ==============================
-- 3. クライアントの作成
-- ==============================
INSERT INTO clients (id, org_id, name, industry, priority) VALUES
  ('10000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '株式会社サンプル', 'IT・ソフトウェア', 'high'),
  ('10000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '株式会社テストコーポレーション', '製造業', 'medium'),
  ('10000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '株式会社デモカンパニー', '小売業', 'high'),
  ('10000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '合同会社パイロット', 'サービス業', 'medium'),
  ('10000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '株式会社プロトタイプ', '教育', 'low')
ON CONFLICT (id) DO NOTHING;

-- ==============================
-- 4. タスクのサンプル
-- ==============================
INSERT INTO tasks (id, org_id, client_id, title, description, status, platform, due_date, post_date) VALUES
  (
    '20000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000001',
    '10000000-0000-0000-0000-000000000001',
    'Instagram投稿：新商品紹介',
    '新商品の紹介投稿を作成',
    'pending',
    'Instagram',
    NOW() + INTERVAL '7 days',
    NOW() + INTERVAL '10 days'
  ),
  (
    '20000000-0000-0000-0000-000000000002',
    '00000000-0000-0000-0000-000000000001',
    '10000000-0000-0000-0000-000000000002',
    'Facebook広告キャンペーン',
    'Q1キャンペーンの広告クリエイティブ作成',
    'in_progress',
    'Facebook',
    NOW() + INTERVAL '5 days',
    NOW() + INTERVAL '8 days'
  )
ON CONFLICT (id) DO NOTHING;

-- ==============================
-- 5. 契約のサンプル
-- ==============================
INSERT INTO contracts (id, org_id, client_id, status, monthly_fee, start_date, end_date, renewal_date) VALUES
  (
    '30000000-0000-0000-0000-000000000001',
    '00000000-0000-0000-0000-000000000001',
    '10000000-0000-0000-0000-000000000001',
    'active',
    50000,
    DATE '2024-01-01',
    DATE '2024-12-31',
    DATE '2024-11-30'
  ),
  (
    '30000000-0000-0000-0000-000000000002',
    '00000000-0000-0000-0000-000000000001',
    '10000000-0000-0000-0000-000000000002',
    'active',
    80000,
    DATE '2024-02-01',
    DATE '2025-01-31',
    DATE '2024-12-31'
  )
ON CONFLICT (id) DO NOTHING;

-- ==============================
-- 完了
-- ==============================
-- Seed データの投入が完了しました。
-- 
-- 次のステップ：
-- 1. Supabase ダッシュボードで6人のユーザーを作成
-- 2. 各ユーザーのAuth UIDを取得
-- 3. usersテーブルに手動でレコードを追加（上記のコメント参照）
-- 4. アプリケーションからログインテスト
